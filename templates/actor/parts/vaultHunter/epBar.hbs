<svg
    id="epBar{{ actor.id }}"
    class="epBar"
    viewBox="0 0 1000 50"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:svg="http://www.w3.org/2000/svg"
>
    <defs>
        <style>
            #epBar{{actor.id}} {
            	--epPercent: {{system.xp.nextLevelPercentage}};
            }
        </style>
        <pattern id="greyLine" x="20" y="0" width="96" height="50" patternUnits="userSpaceOnUse">
            <desc>greyLine</desc>
            <rect id="bgPatternRect" x="0" y="0" width="96" height="50" />
        </pattern>
        <pattern id="genericLine" x="20" y="0" width="96" height="50" patternUnits="userSpaceOnUse">
            <desc>genericLine</desc>
            <rect id="genPatternRect" {{#if system.xp.levelUp}}class="levelUp"{{/if}} x="0" y="0" width="96" height="50" />
        </pattern>
        <symbol id="genericBar">
            <path d="m20,35 l80,-28 h800 l80,28 v10 l-80,-18 h-800 l-80,18 z" />
        </symbol>
        <symbol id="epBar">
            <path d="m20,36 l80,-28 h800 l80,28 v8 l-80,-18 h-800 l-80,18 z" />
        </symbol>
    </defs>
    <use href="#genericBar" id="backgroundBar" class="bar" />
    <use href="#epBar" id="foregroundBar" />
</svg>
